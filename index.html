<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Desencriptador FRAXS ZH3.0</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #0f0c29, #302b63, #24243e);
      color: #fff;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }header {
  text-align: center;
  padding: 20px;
  animation: fadeInDown 1s ease-in-out;
}

h1 {
  margin: 0;
  font-size: 2.5rem;
  color: #00ffe1;
  text-shadow: 2px 2px 4px #000;
}

.container {
  background: rgba(0, 0, 0, 0.4);
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 0 15px #00ffe1;
  text-align: center;
  animation: fadeInUp 1s ease-in-out;
  width: 90%;
  max-width: 800px;
}

input[type="file"] {
  display: none;
}

label {
  background: #00ffe1;
  color: #000;
  padding: 12px 25px;
  border-radius: 30px;
  cursor: pointer;
  font-weight: bold;
  transition: background 0.3s;
  display: inline-block;
}

label:hover {
  background: #00bfa5;
}

pre {
  text-align: left;
  max-height: 400px;
  overflow-y: auto;
  background: #111;
  padding: 15px;
  border-radius: 10px;
  margin-top: 20px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.file-info {
  margin-top: 10px;
  font-size: 0.9rem;
  color: #ccc;
}

.progress {
  margin-top: 20px;
  width: 100%;
  background: #333;
  border-radius: 20px;
  overflow: hidden;
  height: 20px;
  display: none;
}

.progress-bar {
  height: 100%;
  background: #00ffe1;
  width: 0%;
  transition: width 0.3s ease;
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

  </style>
</head>
<body>
  <header>
    <h1>Desencriptador FRAXS ZH3.0</h1>
  </header>
  <div class="container">
    <label for="fileInput">AGREGAR ARCHIVO</label>
    <input type="file" id="fileInput" />
    <div class="file-info" id="fileInfo"></div>
    <div class="progress" id="progress">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <pre id="output"></pre>
  </div>  <script>
    const input = document.getElementById('fileInput');
    const output = document.getElementById('output');
    const fileInfo = document.getElementById('fileInfo');
    const progress = document.getElementById('progress');
    const progressBar = document.getElementById('progressBar');

    function updateProgress(porcentaje) {
      progress.style.display = 'block';
      progressBar.style.width = `${porcentaje}%`;
    }

    input.addEventListener('change', async () => {
      const file = input.files[0];
      if (!file) return;

      fileInfo.textContent = `Archivo seleccionado: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
      output.textContent = '';
      updateProgress(10);

      const reader = new FileReader();

      const ext = file.name.split('.').pop().toLowerCase();
      const supportedText = ['txt', 'css', 'html', 'js', 'json', 'xml', 'md', 'csv'];
      const supportedZip = ['zip', 'rar', 'apk', 'docx'];

      if (supportedText.includes(ext)) {
        updateProgress(30);
        reader.onload = function (e) {
          updateProgress(100);
          output.textContent = e.target.result;
        };
        reader.readAsText(file);
      } else if (supportedZip.includes(ext)) {
        updateProgress(30);
        const JSZipScript = document.createElement('script');
        JSZipScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
        document.body.appendChild(JSZipScript);

        JSZipScript.onload = async () => {
          try {
            updateProgress(50);
            const zip = await JSZip.loadAsync(file);
            let extracted = '';
            const files = Object.keys(zip.files);

            for (let i = 0; i < files.length; i++) {
              const name = files[i];
              const zipFile = zip.files[name];
              if (!zipFile.dir) {
                const content = await zipFile.async('string');
                extracted += `\n--- ${name} ---\n${content}\n`;
              }
              updateProgress(50 + Math.round((i / files.length) * 50));
            }

            output.textContent = extracted || 'No se pudo extraer contenido visible.';
          } catch (err) {
            output.textContent = '⚠️ Error al descomprimir: ' + err.message + '\n\nEste archivo podría estar cifrado o no ser compatible.';
          }
        };
      } else {
        updateProgress(100);
        output.textContent = '⚠️ Tipo de archivo no compatible para vista previa o extracción.';
      }
    });
  </script></body>
</html>